<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Martynas Budvytis | Soft Shadows</title>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="css/scroll.css" rel="stylesheet">
</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">Soft Shadows</a>
            </div>

            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    <li class="hidden">
                        <a class="page-scroll" href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#desc">Introduction</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#overview">Overview</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#gallery">Gallery</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#software-design">Software Design</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#reference">References</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section id="intro" class="intro-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Soft Shadows</h1>
                    <h4>Martynas Budvytis</h4>
                    <p>CSC 473 Final Project - Spring 2018</p>
                    <br/>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <img src="res/valentine2/r1.png" alt="Soft Shadows" width="100%" height="100%"></img>
                </div>
                <div class="col-lg-6">
                    <img src="res/valentine2/aa_r30.png" alt="Soft Shadows" width="100%" height="100%"></img>
                </div>
            </div>
        </div>
    </section>

    <section id="desc" class="desc-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Introduction</h1>
                    <p>
                        For my CSC 473 final project, I implemented soft shadows in my raytracer. I used Monte-Carlo raytracing
                        and experimented with three types of area lights. I do not parse the area lights defined in the POV-ray
                        specification. Instead, these area lights are calculated from point lights specified in a POV-ray file.
                    </p>
            </div>
        </div>
    </section>

    <section id="overview" class="overview-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Overview</h1>
                    <p>
                        To create soft shadows, I treated point lights as area lights. Then, for the shadow calculation I would cast
                        shadow feeler rays to a random points on the area light based on the size of the area light and the number
                        of samples requested. The results are then averaged to produce the final color.
                        I experimented with three types of area lights:
                    </p>
                    <h3>Aligned area light</h3>
                        Aligned area lights are quads that are computed to face the point that we are calculating
                        shadows for. This is done by using cross products between the light vector (point to point light) and up vector
                        to find the <i>u</i> vector, and the light vector and  <i>u</i> vector to find the <i>v</i> vector.
                        Points are then samples on the quad formed by the <i>u</i> and <i>v</i> vectors, and a user-defined size.
                    <p>

                    </p>
                    <h3>XZ area light</h3>
                    <p>
                        XZ area lights are just quick and easy area lights where points are sampled
                        randomly in the X and Z directions relative to the point light based on a user-defined
                        size.
                    </p>
                    <h3>Spherical light</h3>
                    <p>
                        For spherical area lights, I treated each point as a sphere with a user-defined
                        radius. I sample points on the surface of the sphere to create the shadow feeler
                        rays.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section id="gallery" class="gallery-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Gallery</h1>
                </div>
            </div>
            <div class="row row-buffer"></div>
            <div class="row">
                <div class="col-lg-4 col-centered">
                    <figure>
                        <img src="res/simple/no_soft.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>No soft shadows</figcaption>
                    </figure>
                </div>
            </div>
            <div class="row row-buffer"></div>
            <div class="row">
                <div class="col-lg-4">
                    <figure>
                        <img src="res/simple/aligned_area.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>Aligned area light</figcaption>
                    </figure>
                </div>
                <div class="col-lg-4">
                    <figure>
                        <img src="res/simple/xz_area.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>XZ area light</figcaption>
                    </figure>
                </div>
                <div class="col-lg-4">
                    <figure>
                        <img src="res/simple/spherical.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>Spherical area light</figcaption>
                    </figure>
                </div>
            </div>
            <div class="row row-buffer"></div>
            <div class="row">
                <div class="col-lg-4 col-centered">
                    <figure>
                        <img src="res/valentine2/r1.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>No soft shadows</figcaption>
                    </figure>
                </div>
            </div>
            <div class="row row-buffer"></div>
            <div class="row">
                <div class="col-lg-4">
                    <figure>
                        <img src="res/valentine2/aa_r15.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>Aligned area light - size 15, 256 samples</figcaption>
                    </figure>
                </div>
                <div class="col-lg-4">
                    <figure>
                        <img src="res/valentine2/ar_r15.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>XZ area light - size 15, 256 samples</figcaption>
                    </figure>
                </div>
                <div class="col-lg-4">
                    <figure>
                        <img src="res/valentine2/s_r15.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>Spherical area light - size 15, 256 samples</figcaption>
                    </figure>
                </div>
            </div>
            <div class="row row-buffer"></div>
            <div class="row">
                <div class="col-lg-4">
                    <figure>
                        <img src="res/valentine2/aa_r30.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>Aligned area light - size 30, 256 samples</figcaption>
                    </figure>
                </div>
                <div class="col-lg-4">
                    <figure>
                        <img src="res/valentine2/ar_r30.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>XZ area light - size 30, 256 samples</figcaption>
                    </figure>
                </div>
                <div class="col-lg-4">
                    <figure>
                        <img src="res/valentine2/s_r30.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>Spherical area light - size 30, 256 samples</figcaption>
                    </figure>
                </div>
            </div>
            <div class="row row-buffer"></div>
            <div class="row">
                <div class="col-lg-4 col-centered">
                    <figure>
                        <img src="res/p7-1/no_soft.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>No soft shadows</figcaption>
                    </figure>
                </div>
            </div>
            <div class="row row-buffer"></div>
            <div class="row">
                <div class="col-lg-4">
                    <figure>
                        <img src="res/p7-1/aa_r15.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>Aligned area light - size 15, 256 samples</figcaption>
                    </figure>
                </div>
                <div class="col-lg-4">
                    <figure>
                        <img src="res/p7-1/ar_r15.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>XZ area light - size 15, 256 samples</figcaption>
                    </figure>
                </div>
                <div class="col-lg-4">
                    <figure>
                        <img src="res/p7-1/s_r15.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>Spherical area light - size 15, 256 samples</figcaption>
                    </figure>
                </div>
            </div>
            <div class="row row-buffer"></div>
            <div class="row">
                <div class="col-lg-4 col-centered">
                    <figure>
                        <img src="res/p7-2/no_soft.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>No soft shadows</figcaption>
                    </figure>
                </div>
            </div>
            <div class="row row-buffer"></div>
            <div class="row">
                <div class="col-lg-4">
                    <figure>
                        <img src="res/p7-2/aa_r15.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>Aligned area light - size 15, 256 samples</figcaption>
                    </figure>
                </div>
                <div class="col-lg-4">
                    <figure>
                        <img src="res/p7-2/ar_r15.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>XZ area light - size 15, 256 samples</figcaption>
                    </figure>
                </div>
                <div class="col-lg-4">
                    <figure>
                        <img src="res/p7-2/s_r15.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>Spherical area light - size 15, 256 samples</figcaption>
                    </figure>
                </div>
            </div>
            <div class="row row-buffer"></div>
            <div class="row">
                <div class="col-lg-6">
                    <figure>
                        <img src="res/simple-gi/no_soft.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>Global illumination - 32 samples, No soft shadows</figcaption>
                    </figure>
                </div>
                <div class="col-lg-6">
                    <figure>
                        <img src="res/simple-gi/gi32_s32_r15.png" alt="Soft Shadows" width="100%" height="100%"></img>
                        <figcaption>Global illumination - 32 samples, Aligned area light - size 15, 32 samples</figcaption>
                    </figure>
                </div>
            </div>
        </div>
    </section>

    <section id="software-design" class="software-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Software Design</h1>
                    <p>
                        One software design decision I made early on was to use the <a href="https://github.com/catchorg/Catch2">Catch2</a>
                        framework for unit testing. This proved to be valuable, especially for writing the parser and
                        intersection code in my raytracer. Catch2 is a simple to use framework, so it was easy to start
                        writing unit tests. These tests made me confident that my parser and intersection code was rock-solid
                        and did not cause issues in later parts of the project.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section id="reference" class="reference-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>References</h1>
                    <a href="https://iondune.github.io/csc473/lectures/20-final-project">https://iondune.github.io/csc473/lectures/20-final-project</a><br/>
                    <a href="https://www.cs.unc.edu/~dm/UNC/COMP236/LECTURES/SoftShadows">https://www.cs.unc.edu/~dm/UNC/COMP236/LECTURES/SoftShadows</a>
                </div>
            </div>
        </div>
    </section>

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="js/jquery.easing.min.js"></script>
    <script src="js/scrolling-nav.js"></script>

</body>

</html>
